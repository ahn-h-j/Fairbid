# Redis Sentinel 프로필 (HA Step 3)
#
# 활성화: SPRING_PROFILES_ACTIVE=sentinel (또는 default,sentinel)
#
# Sentinel 모드에서는 host/port 대신 sentinel.master + sentinel.nodes로 연결한다.
# Lettuce가 Sentinel의 +switch-master 채널을 구독하여 failover 시 자동 재연결한다.
#
# Sentinel 노드는 고정 IP로 지정 (docker-compose 네트워크 설정과 일치)

spring:
  data:
    redis:
      sentinel:
        master: mymaster
        nodes:
          - 172.22.0.20:26379
          - 172.22.0.21:26379
          - 172.22.0.22:26379
      timeout: 3000ms
